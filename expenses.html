<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Despesas - Organizador de Gastos</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="side-nav">
        <a href="index.html" title="P√°gina Inicial"><i class="fas fa-home"></i></a>
        <!-- <a href="settings.html" title="Configura√ß√µes"><i class="fas fa-cog"></i></a> -->
        <a href="details.html" title="Detalhes"><i class="fas fa-list"></i></a>
        <a href="expenses.html" class="active" title="Despesas"><i class="fas fa-dollar-sign expense-icon"></i></a>
        <a href="wallet.html" title="Carteira"><i class="fas fa-folder"></i></a>
        <a href="income.html" title="Receitas"><i class="fas fa-dollar-sign income-icon"></i></a>
        <a href="#" id="export-data-btn" title="Exportar Dados"><i class="fas fa-download"></i></a>
        <a href="#" id="import-data-btn" title="Importar Dados"><i class="fas fa-upload"></i></a>
        <a href="#" id="clear-data-btn" title="Apagar Todos os Dados" class="trash-button"><i class="fas fa-trash-alt"></i></a>
        <input type="file" id="importFile" accept=".json" style="display: none;">
    
        <!-- Adicionar se√ß√£o de hist√≥rico de auto-saves -->
        <div class="auto-save-manager">
            <a href="#" id="auto-save-history-btn" title="Hist√≥rico de Auto-Saves"><i class="fas fa-history"></i></a>
            <div id="auto-save-panel" class="auto-save-panel" style="display: none;">
                <h3>Hist√≥rico de Auto-Saves</h3>
                <div id="auto-save-versions"></div>
                <button id="load-versions-btn" class="btn-small">Carregar Vers√µes</button>
                <button id="clear-history-btn" class="btn-small btn-danger">Limpar Hist√≥rico</button>
            </div>
        </div>
        
        <!-- Vers√£o da Aplica√ß√£o -->
        <div class="app-version" style="position: absolute; bottom: 10px; width: 100%; text-align: center; color: #666; font-size: 0.8em;">
            <span id="app-version-display">v1.0.0</span>
        </div>
    </nav>
    <div class="main-content">
        
        </header>

        <div class="expense-form">
            <form id="expenseForm">
                <div class="form-group">
                    <label for="description">Descri√ß√£o:</label>
                    <input type="text" id="description" required>
                </div>
                <div class="form-group">
                    <label for="amount">Valor (R$):</label>
                    <input type="number" id="amount" step="0.01" required>
                </div>
                <!-- Substituir o select de categoria por: -->
                <div class="form-group">
                    <label for="category">Categoria:</label>
                    <div class="category-input-wrapper">
                        <div class="category-dropdown" id="category-dropdown">
                            <div class="category-selected" id="category-selected">
                                <span>Selecione uma categoria</span>
                                <span class="dropdown-arrow">‚ñº</span>
                            </div>
                            <div class="category-options" id="category-options">
                                <!-- Op√ß√µes ser√£o inseridas dinamicamente -->
                            </div>
                        </div>
                        <input type="hidden" id="category" name="category" value="">
                        <div class="category-tooltip" id="category-tooltip"></div>
                    </div>
                </div>
                <div class="form-group date-inline">
                    <label for="date">Data:</label>
                    <div class="date-field-wrapper">
                        <input type="date" id="date" required onclick="this.showPicker()">
                    </div>
                </div>
                <div class="form-group">
                    <label for="paymentMethod">Forma de Pagamento:</label>
                    <select id="paymentMethod" required>
                        <option value="">Selecione a forma de pagamento</option>
                        <option value="dinheiro">Dinheiro</option>
                        <option value="pix">Pix</option>
                        <option value="debito">D√©bito</option>
                        <option value="credito_vista">Cr√©dito √† Vista</option>
                        <option value="credito_parcelado">Cr√©dito Parcelado</option>
                    </select>
                </div>
                <div class="form-group" id="cardSelectGroup" style="display: none;">
                    <label for="selectedCard">Cart√£o:</label>
                    <select id="selectedCard">
                        <option value="">Selecione um cart√£o (opcional)</option>
                    </select>
                </div>
                <div class="form-group" id="installmentsGroup" style="display: none;">
                    <label for="installments">N√∫mero de Parcelas:</label>
                    <input type="number" id="installments" min="2" max="24">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="isFixed">
                        Despesa Fixa
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="isRecurring">
                        Despesa Recorrente
                    </label>
                </div>
                <div id="recurring-options" style="display: none;">
                    <div class="form-group">
                        <label for="recurring-frequency">Frequ√™ncia:</label>
                        <select id="recurring-frequency">
                            <option value="daily">Di√°ria</option>
                            <option value="weekly">Semanal</option>
                            <option value="monthly">Mensal</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="recurring-end-date">Data de T√©rmino:</label>
                        <input type="date" id="recurring-end-date">
                    </div>
                </div>
                <button type="submit" class="btn-submit">Adicionar Despesa</button>
                <!-- <button type="button" class="btn-test" onclick="generateRandomExpense()">üé≤ Gerar Despesa Teste</button> REMOVIDO -->
            </form>
        </div>
    </div>
    <!-- Adicionar antes do fechamento do body -->
    <script type="module" src="expenses.js"></script>
</body>
</html>