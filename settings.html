<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurações - Organizador de Gastos</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Overlay de Carregamento de Autenticação -->
    <div id="auth-loading-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f0f2f5; z-index: 9999; display: flex; justify-content: center; align-items: center; flex-direction: column;">
        <div class="spinner" style="width: 50px; height: 50px; border: 5px solid #e0e0e0; border-top-color: #3498db; border-radius: 50%; animation: spin 1s linear infinite;"></div>
        <p style="margin-top: 20px; font-family: 'Segoe UI', sans-serif; color: #333;">Verificando acesso...</p>
        <style>
            @keyframes spin {
                to { transform: rotate(360deg); }
            }
        </style>
    </div>
    <nav class="side-nav">
        <a href="index.html" title="Página Inicial"><i class="fas fa-home"></i></a>
        <a href="settings.html" class="active" title="Configurações"><i class="fas fa-cog"></i></a>
        <a href="details.html" title="Detalhes"><i class="fas fa-list"></i></a>
        <a href="expenses.html" title="Despesas"><i class="fas fa-dollar-sign expense-icon"></i></a>
        <a href="wallet.html" title="Carteira"><i class="fas fa-folder"></i></a>
        <a href="income.html" title="Receitas"><i class="fas fa-dollar-sign income-icon"></i></a>
        <a href="#" id="export-data-btn" title="Exportar Dados"><i class="fas fa-download"></i></a>
        <a href="#" id="import-data-btn" title="Importar Dados"><i class="fas fa-upload"></i></a>
        <a href="#" id="clear-data-btn" title="Apagar Todos os Dados" class="trash-button"><i class="fas fa-trash-alt"></i></a>
        <a href="#" id="dark-mode-toggle" title="Alternar Modo Escuro"><i class="fas fa-moon"></i></a>
        <input type="file" id="importFile" accept=".json" style="display: none;">
    </nav>
    <div class="main-content">
        <header>
            <h1>Configurações</h1>
        </header>

        <div class="container">
            <section class="card">
                <h2>Integração WhatsApp</h2>
                <p class="description">
                    Vincule seu número de WhatsApp para adicionar despesas e receitas enviando mensagens de texto.
                </p>
                <p class="info-text">
                    <strong>Formatos suportados:</strong><br>
                    - "Gastei 50 no almoço com nubank"<br>
                    - "Recebi 1000 de salário"<br>
                    - "15.50 uber"
                </p>
                
                <form id="whatsapp-settings-form">
                    <div class="form-group">
                        <label for="whatsapp-phone">Seu Número de WhatsApp (com DDD):</label>
                        <input type="tel" id="whatsapp-phone" placeholder="Ex: 5511999999999" pattern="[0-9]+" title="Apenas números">
                        <small>Inclua o código do país (55 para Brasil) e DDD. Apenas números.</small>
                    </div>
                    <button type="submit" class="btn-primary">Salvar Configurações</button>
                </form>
                <div id="settings-message" style="margin-top: 10px; display: none;"></div>
            </section>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js" crossorigin="anonymous"></script>
    <script type="module" src="uiShared.js"></script>
    <script type="module" src="settings.js"></script>
</body>
</html>
